(()=>{"use strict";const e=e=>e<10?"0"+e:e,t=(e,t)=>{e?t.classList.remove("disabled"):t.classList.add("disabled")},n=(e,t)=>{t?e.classList.remove("empty"):e.classList.add("empty")};window.addEventListener("online",(()=>{console.log("ima online"),localStorage.removeItem("news"),localStorage.removeItem("fans")}));const a=window.navigator.onLine;!function(a){const l=document.getElementById("user"),s=document.getElementById("feedback"),o=document.querySelector(".send-btn");let i=[];if(a?console.log(i):i=JSON.parse(localStorage.getItem("fans"))||[],l&&s&&o){function c(e,t,n){const a=document.querySelector(".fans-feedback"),l=document.createElement("div"),s=`\n        <div class="text">${t}</div>\n        <div class="feedback-info">\n          <div class="create-time">${n}</div>\n          <div class="create-by">${e}</div>\n        </div>\n      `;l.classList.add("feedback"),l.innerHTML=s,a.append(l)}i.forEach((e=>{c(e.userName,e.post,e.time)})),l.addEventListener("input",(e=>{const a=e.target.value;n(l,a),t(l.value&&s.value,o)})),s.addEventListener("input",(e=>{const a=e.target.value;n(s,a),t(l.value&&s.value,o)})),o.addEventListener("click",(n=>{n.preventDefault(),l.value&&s.value&&(function(t,n){const l=(()=>{const t=new Date;return`${e(t.getDate())}.${e(t.getMonth()+1)}.${t.getFullYear()} ${e(t.getHours())}:${e(t.getMinutes())}`})();if(a)console.log(t,n,l);else{const e=localStorage.getItem("fans");window.localStorage.setItem("fans",e?JSON.stringify([...JSON.parse(e),{userName:t,post:n,time:l}]):JSON.stringify([{userName:t,post:n,time:l}]))}c(t,n,l)}(l.value,s.value),l.value="",s.value="",t(l.value&&s.value,o))}))}}(a),function(e){const a=document.getElementById("new-title"),l=document.getElementById("new-text"),s=document.getElementById("new-submit"),o=document.getElementById("file-upload");let i="";a&&l&&s&&(o.addEventListener("change",(e=>{var n=e.target.files,o=new FileReader;o.onload=(n[0],function(e){const n=document.querySelector(".drop-down");i=e.target.result;const o=document.createElement("div");o.innerHTML=`\n            <img src="${i}" alt="image" height="250" width="250"/>\n          `,n.append(o),t(i&&a.value&&l.value,s)}),o.readAsDataURL(n[0])})),a.addEventListener("input",(e=>{const o=e.target.value;n(a,o),t(i&&a.value&&l.value,s)})),l.addEventListener("input",(e=>{const o=e.target.value;n(l,o),t(i&&a.value&&l.value,s)})),s.addEventListener("click",(n=>{n.preventDefault(),i&&a.value&&l.value&&(function(t,n,a){if(e)console.log(t,n,a);else{const e=localStorage.getItem("news");window.localStorage.setItem("news",e?JSON.stringify([...JSON.parse(e),{img:t,title:n,text:a}]):JSON.stringify([{img:t,title:n,text:a}]))}}(i,a.value,l.value),a.value="",l.value="",i="",t(i&&a.value&&l.value,s))})))}(a),function(e){const t=document.querySelector(".latest-news");let n=[];e?console.log(n):n=JSON.parse(localStorage.getItem("news"))||[],t&&n.forEach((e=>{const n=document.createElement("div");n.classList.add("news-card"),n.innerHTML=`\n        <div class="img-wrapper">\n          <img class="image" src="${e.img}" alt="first new" />\n        </div>\n        <div class="card-content">\n          <h2 class="title">${e.title}</h2>\n          <p class="news-text">${e.text}</p>\n        </div>\n      `,t.append(n)}))}(a)})();